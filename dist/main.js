(()=>{"use strict";var e={937:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(645),a=r.n(n)()((function(e){return e[1]}));a.push([e.id,'html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}*{box-sizing:border-box}h1{font-size:3rem;text-align:center}#card-list{display:flex}#flippable-card-list{display:flex;width:680px;height:500px;justify-content:center;align-items:center;flex-wrap:wrap;margin:0 auto}#flippable-card-list .card{background-color:initial !important}.card{min-height:100px;min-width:100px;max-height:100px;max-width:100px;background-color:blue;margin:1rem;display:flex;justify-content:center;align-items:center}.player-image{height:50px;width:50px;max-height:50px;max-width:50px;background-color:red}',""]);const i=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(a[l]=!0)}for(var o=0;o<e.length;o++){var u=[].concat(e[o]);n&&a[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},379:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},l=[],o=0;o<e.length;o++){var u=e[o],d=n.base?u[0]+n.base:u[0],s=i[d]||0,c="".concat(d," ").concat(s);i[d]=s+1;var p=r(c),f={css:u[1],media:u[2],sourceMap:u[3]};-1!==p?(t[p].references++,t[p].updater(f)):t.push({identifier:c,updater:a(f,n),references:1}),l.push(c)}return l}function a(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var i=n(e=e||[],a=a||{});return function(e){e=e||[];for(var l=0;l<i.length;l++){var o=r(i[l]);t[o].references--}for(var u=n(e,a),d=0;d<i.length;d++){var s=r(i[d]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=u}}},569:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},565:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n=r.css,a=r.media,i=r.sourceMap;a?e.setAttribute("media",a):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(379),t=r.n(e),n=r(795),a=r.n(n),i=r(569),l=r.n(i),o=r(565),u=r.n(o),d=r(216),s=r.n(d),c=r(589),p=r.n(c),f=r(937),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=l().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=s(),t()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals;const m=document.getElementById("card-list"),h=document.getElementById("flippable-card-list"),y=(()=>{const e=[];let t=[];function r(t){return e[t]}return{getCards:function(){return e},getFlippableCards:function(){return t},addPlayer:function(e,t){r(t).buildPlayer(e)},addFlippableCard:function(e){t.push(e),e.build()},addCard:function(t){e.push(t),t.build()},NUM_PLAYERS:4,removeFlippableCard:function(e){t=t.filter((t=>t!=e)),e.getDOM().remove()},getFlippableCardById:function(e){return t.filter((t=>t.getId()===e))[0]},getCardPlayer:function(t){let r=e.filter((e=>e.getPlayer()&&e.getPlayer().id===t.id));return r.length>0?r[0]:null},getCardPosition:function(t){let r=0;for(let n of e){if(t.getId()==n.getId())break;++r}return r},getCard:r,getFlippableCard:function(e){return t[e]}}})();function b(e,t){return!!function(e){let t=y.getCards()[e];return!t||!t.player}(t)&&(y.addPlayer(e,t),!0)}function v(e,t){return e.filter((e=>e.id===t))[0]}const C=(e,t,r,n=!1)=>({name:e,imageSrc:t,id:r,finish_line:2,ai:n}),x=(e,t,r)=>{const n=C(e,t,r,!0);let a=[];return Object.assign(n,{memorizeImagePosition:function(e,t){let r={cardImage:e,position:t};a.filter((r=>r.cardImage==e&&r.position==t)).length>0||a.push(r)},selectBestChoice:function(e){let t=A(y.getCardPosition(e)),r=y.getCard(t).getImageSrc(),n=(i=r,a.filter((e=>e.cardImage==i))[0]);var i;return n?y.getFlippableCard(n.position):y.getFlippableCard(function(){let e=0,t=y.getFlippableCards().length;for(;a.filter((t=>t.position==e)).length>0;)e=Math.round(Math.random()*(t-1));return e}())}})};let T=[];for(let e=1;e<=7;e++)P=`images/animal${e}.png`,T.push({src:P});var P;const I=T,k=(e,t,r=null)=>{let n=document.createElement(e);return n.className=t,r&&r.appendChild(n),n},S=(e,t,r)=>{let n,a;function i(e){a.style.backgroundImage=`url('${e}')`}return{build:function(n="card"){return a=k("div",n,t),a.setAttribute("data-id",r),i(e),a},setImage:i,buildPlayer:function(e){n={name:e.name,dom:k("img","player-image",a),id:e.id},n.dom.src=e.imageSrc},removePlayer:function(){n.dom.remove(),n=null},hasPlayer:function(){return null!=n},getPlayer:function(){return n},getDOM:function(){return a},getId:function(){return r},getImageSrc:function(){return e}}},E=(e,t,r,n="images/blank.png")=>{let{build:a,setImage:i,getDOM:l,getId:o,getImageSrc:u}=S(n,t,r),d=!1;return{build:a,setImage:i,flip:function(){d=!d,i(d?e:n)},getDOM:l,getId:o,getRealImageSrc:function(){return e},isFlipped:function(){return d}}},M=(()=>{let e=document.getElementById("memory-card-log"),t=[],r=!1;function n(e){if(!e)return void w.skipToNextPlayer();if(r&&!M.playerTurn.ai)return;let t=y.getFlippableCards().indexOf(e);if(e.isFlipped())return;!function(e,t){r=!0,e.flip(),setTimeout((()=>{e.flip(),r=!1}),1e3),M.players.filter((e=>e.ai)).forEach((r=>r.memorizeImagePosition(e.getRealImageSrc(),t)))}(e,t);let n=y.getCardPlayer(M.playerTurn),i=A(y.getCardPosition(n)),l=y.getCard(i);if(e.getRealImageSrc()===l.getImageSrc()?w.clickedAtSameImage(n,l,i):w.skipToNextPlayer(),M.playerTurn.finish_line>=4)return w.wonTheGame();M.playerTurn.ai&&setTimeout((()=>a()),1100)}function a(){if(M.playerTurn.ai){let e=y.getCardPlayer(M.playerTurn),t=M.playerTurn.selectBestChoice(e);return M.flipCard(t)}}return{flipCard:n,flipCardEvent:function(e){if(M.playerTurn.ai)return;let t=Number.parseInt(e.target.getAttribute("data-id"));n(y.getFlippableCardById(t))},players:t,playerTurn:null,logDisplay:e,addPlayerToGame:function(e,r,n){t.push(n.call(null,e,r,t.length+1))},callAi:a}})(),w={clickedAtSameImage:function(e,t,r){for(;t.hasPlayer();){M.logDisplay.textContent=`${M.playerTurn.name} found the correct image`;let e=t.getPlayer();if(e=v(M.players,e.id),e.finish_line-=1,M.playerTurn.finish_line+=1,M.logDisplay.textContent=`${M.playerTurn.name}'s points: ${M.playerTurn.finish_line}`,M.logDisplay.textContent+=`${e.name}'s points: ${e.finish_line}`,t.hasPlayer()&&e.id==M.playerTurn.id)break;t.hasPlayer()&&(r=A(r),t=y.getCard(r))}e.removePlayer(),t.buildPlayer(M.playerTurn)},skipToNextPlayer:function(){let e=M.players.indexOf(M.playerTurn);var t;M.playerTurn=M.players[(t=e,D(M.players,t))],M.logDisplay.textContent=`Wrong choose. Now ${M.playerTurn.name}'s turn`,O()},wonTheGame:function(){M.logDisplay.textContent=`The player ${M.playerTurn.name} Won the game!`,y.getFlippableCards().forEach((e=>e.getDOM().removeEventListener("click",M.flipCard)))}};function F(e){return e.sort((()=>.5-Math.random()))}function A(e){return D(y.getCards(),e)}function D(e,t){return t===e.length-1?0:++t}function N(e){for(let t of F(I)){let r=(e?y.getFlippableCards():y.getCards()).length+1;if(e){let e=E(t.src,h,r);y.addFlippableCard(e),e.getDOM().addEventListener("click",M.flipCardEvent)}else{let e=S(t.src,m,r);y.addCard(e)}}}function O(){let e=document.createElement("img");e.src=M.playerTurn.imageSrc,M.logDisplay.textContent+=" Icon: ",M.logDisplay.appendChild(e)}N(),N(!0),M.addPlayerToGame("James","https://singlecolorimage.com/get/33fd8f/50x50",C),M.addPlayerToGame("Rubens","https://singlecolorimage.com/get/67a8b4/50x50",C),M.addPlayerToGame("Pr","https://singlecolorimage.com/get/cde4b4/50x50",x),M.players.forEach((e=>function(e){if(!(y.getCards().filter((e=>e.player)).length<y.NUM_PLAYERS))return;let t=function(){let e=y.getCards().length,t=Math.round(e/y.NUM_PLAYERS),r=[];for(let n=0;n<e;n+=t)y.getCards()[n].hasPlayer()||r.push(n);return r}();for(let r of t)if(b(e,r))return!0;return!1}(e))),M.playerTurn=F(M.players)[0],M.logDisplay.textContent=`Game started. ${M.playerTurn.name} starts.`,O(),M.callAi()})()})();